{"ast":null,"code":"var _jsxFileName = \"/home/nitu/Facebook/facebook/src/component/Usersstory.js\";\nimport React from \"react\";\nimport axios from \"axios\";\nimport { Link } from 'react-router-dom';\nimport Navbar from './Navbar';\n\nclass Userstory extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.componentDidMount = () => {\n      Axios.get(\"http://127.0.0.1:5000/get-user-token\", {\n        headers: {\n          Authorization: \"Bearer \" + this.state.tokenId,\n          'Content-Type': 'application/json'\n        }\n      }).then(response => {\n        console.log(response.data.user_id);\n        this.setState({\n          userDetails: response.data\n        });\n        Axios.get(\"http://127.0.0.1:5000/read_userStory/\" + response.data.user_id).then(res => {\n          console.log(res.data);\n          this.setState({\n            userData: res.data\n          });\n        });\n      });\n    };\n\n    this.state = {\n      allStory: [],\n      user_id: '',\n      tokenId: window.localStorage.getItem(\"token\")\n    };\n  }\n\n  render() {\n    let all_story = this.state.allStory.reverse().map(e => {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, e.first_name)), React.createElement(\"div\", {\n        className: \"card w-50 mb-4 offset-3 text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        class: \"w-100\",\n        style: {\n          height: \"300px\"\n        },\n        src: `http://127.0.0.1:5000/${e.postImageLink1}`,\n        alt: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, \" \", e.story_content), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        type: \"submit\",\n        className: \"btn btn-danger ml-5\",\n        onClick: () => this.DeleteStory(e.story_id),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, \" Delete Blog \"), React.createElement(Link, {\n        to: `/Edit/${e.story_id}`,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        type: \"submit\",\n        className: \"btn btn-primary ml-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, \" Edit Blog \")))));\n    });\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(Navbar, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }), React.createElement(\"h2\", {\n      className: \"offset-5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, \" story \"), all_story);\n  }\n\n}\n\nexport default Userstory;","map":{"version":3,"sources":["/home/nitu/Facebook/facebook/src/component/Usersstory.js"],"names":["React","axios","Link","Navbar","Userstory","Component","constructor","props","componentDidMount","Axios","get","headers","Authorization","state","tokenId","then","response","console","log","data","user_id","setState","userDetails","res","userData","allStory","window","localStorage","getItem","render","all_story","reverse","map","e","first_name","height","postImageLink1","story_content","DeleteStory","story_id"],"mappings":"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","sourcesContent":["import React from \"react\"\nimport axios from \"axios\";\nimport { Link } from 'react-router-dom';\nimport Navbar from './Navbar'\n\n\nclass Userstory extends React.Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            allStory: [],\n            user_id: '',\n            tokenId: window.localStorage.getItem(\"token\")\n\n        }\n\n    }\n\n    componentDidMount = ()=>{\n        Axios.get(\"http://127.0.0.1:5000/get-user-token\", {\n            headers: {\n                Authorization: \"Bearer \" + this.state.tokenId,\n                'Content-Type': 'application/json'\n            }\n        })\n            .then(response => {\n                console.log(response.data.user_id)\n                this.setState({\n                    userDetails: response.data\n                })\n                Axios.get(\"http://127.0.0.1:5000/read_userStory/\"+ response.data.user_id)\n                .then(res=>{\n                       console.log(res.data)\n                       this.setState({\n                        userData: res.data\n                    })\n                })\n            })\n       \n    }\n    render() {\n        let all_story = this.state.allStory.reverse().map((e) => {\n            \n                return (\n                    <div>\n                    <div>\n                        <p>{e.first_name}</p>\n                    </div>\n                    <div className=\"card w-50 mb-4 offset-3 text-center\" >\n                        <img class=\"w-100\" style={{ height: \"300px\" }} src={`http://127.0.0.1:5000/${e.postImageLink1}`} alt=\"\"></img>\n                        <p> {e.story_content}</p>\n                        <div>\n                            {/* <Link to={`/Comment/${e.story_id}`}><button type=\"submit\" className=\"btn btn-info\"> Comment </button></Link> */}\n                            <button type=\"submit\" className=\"btn btn-danger ml-5\" onClick={() => this.DeleteStory(e.story_id)}> Delete Blog </button>\n                            <Link to={`/Edit/${e.story_id}`}><button type=\"submit\" className=\"btn btn-primary ml-5\"> Edit Blog </button></Link>\n\n                        </div>\n                    </div>\n                    </div>\n                )\n            \n            \n        })\n        return (\n            <div>\n                <Navbar />\n                <h2 className=\"offset-5\"> story </h2>\n                {all_story}\n\n\n            </div>\n        )\n    }\n\n}\n\nexport default Userstory\n"]},"metadata":{},"sourceType":"module"}