{"ast":null,"code":"var _jsxFileName = \"/home/nitu/Facebook/facebook/src/component/Pegination.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport { Button } from '@material-ui/core';\nimport queryString from \"query-string\";\nexport class Pegination extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleInput = e => {\n      e.preventDefault();\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.onSubmit = (e, page = 1) => {\n      e.preventDefault();\n      console.log(\"hello\");\n      axios.post(`http://127.0.0.1:5000/read/story?page=${page}`, {\n        per_page: this.state.per_page\n      }).then(res => {\n        console.log(res.data);\n        this.setState({\n          story: res.data.result,\n          total_pages: res.data.total_pages\n        });\n      });\n    };\n\n    this.pagination_new = pageNo => {\n      let updatePage = this.state.change_page;\n      updatePage.page = pageNo;\n      this.setState({\n        change_page: updatePage\n      }, () => {\n        this.props.history.push(`?${queryString.stringify(updatePage)}`);\n      });\n      this.onSubmit(this.page = pageNo);\n    };\n\n    this.state = {\n      story: [],\n      per_page: \"\",\n      total_page: 0,\n      change_page: {\n        page: 1\n      }\n    };\n  }\n\n  render() {\n    console.log(this.state.story);\n    const pageNumbers = [];\n\n    for (let i = 1; i <= this.state.total_page; i++) {\n      pageNumbers.push(i);\n    }\n\n    const renderPageNumbers = pageNumbers.map(number => {\n      return React.createElement(Button, {\n        variant: \"contained\",\n        color: \"primary\",\n        className: \"ml-1\",\n        onClick: () => this.pagination_new(number),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, number);\n    });\n    let all_story = this.state.story.map(e => {\n      return React.createElement(\"div\", {\n        class: \"card mb-3 w-50 offset-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"card-body\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: `http://127.0.0.1:5000/${e.postImageLink}`,\n        style: {\n          width: \"50px\",\n          height: \"50px\"\n        },\n        className: \"ml-5 rounded-circle\",\n        alt: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, \" name : \", e.first_name, \" \", e.last_name, \" \"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, \" story : \", e.story_content), React.createElement(\"img\", {\n        className: \"w-100\",\n        style: {\n          height: \"250px\"\n        },\n        src: `http://127.0.0.1:5000/${e.postImageLink1}`,\n        alt: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }), React.createElement(\"p\", {\n        class: \"card-text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }), React.createElement(\"p\", {\n        class: \"card-text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, React.createElement(\"small\", {\n        class: \"text-muted\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, \"Last updated 3 mins ago\")), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      })));\n    }); // console.log(this.state.per_page)\n\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: this.onSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(\"select\", {\n      class: \"custom-select w-25\",\n      id: \"inputGroupSelect01\",\n      name: \"per_page\",\n      onChange: this.handleInput,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      selected: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, \"Choose...\"), React.createElement(\"option\", {\n      value: \"5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, \"5\"), React.createElement(\"option\", {\n      value: \"10\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, \"10\"), React.createElement(\"option\", {\n      value: \"15\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, \"15\")), React.createElement(Button, {\n      variant: \"contained\",\n      color: \"secondary\",\n      type: \"submit\",\n      className: \"ml-1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, \" Submit \")), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, React.createElement(Navbar, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }), all_story), React.createElement(\"div\", {\n      className: \"mt-5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, renderPageNumbers));\n  }\n\n}\nexport default Pegination;","map":{"version":3,"sources":["/home/nitu/Facebook/facebook/src/component/Pegination.js"],"names":["React","Component","axios","Button","queryString","Pegination","constructor","props","handleInput","e","preventDefault","setState","target","name","value","onSubmit","page","console","log","post","per_page","state","then","res","data","story","result","total_pages","pagination_new","pageNo","updatePage","change_page","history","push","stringify","total_page","render","pageNumbers","i","renderPageNumbers","map","number","all_story","postImageLink","width","height","first_name","last_name","story_content","postImageLink1"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\nimport {Button} from '@material-ui/core';\nimport queryString from \"query-string\";\n\n\n\n\n\n\nexport class Pegination extends Component {\n    constructor(props){\n        super(props)\n        this.state = {\n            story : [],\n            per_page :\"\",\n            total_page: 0,\n            change_page:\n            {\n              page: 1\n            },\n            }\n    }\n    handleInput =(e)=>{\n        e.preventDefault()\n        this.setState({\n         [e.target.name]:e.target.value\n        })\n       \n      }\n   onSubmit = (e, page = 1) =>{\n       e.preventDefault()\n       console.log(\"hello\")\n    axios.post(`http://127.0.0.1:5000/read/story?page=${page}`,{\n        per_page : this.state.per_page\n    })\n    .then(res=>{\n        console.log(res.data)\n        this.setState({\n            story:res.data.result,\n            total_pages: res.data.total_pages\n        })\n    })\n   }\n   pagination_new = (pageNo) => {\n    let updatePage = this.state.change_page\n    updatePage.page = pageNo\n    this.setState(\n      {\n        change_page: updatePage\n      },\n      () => {\n        this.props.history.push(`?${queryString.stringify(updatePage)}`);\n      }\n    );\n    this.onSubmit(this.page = pageNo);\n  };\n  \n    render() {\n        console.log(this.state.story)\n    const pageNumbers = [];\n    for (let i = 1; i <= this.state.total_page; i++) {\n      pageNumbers.push(i);\n    }\n    const renderPageNumbers = pageNumbers.map(number => {\n      return (\n        <Button  variant=\"contained\" color=\"primary\" className = \"ml-1\" onClick={() => this.pagination_new(number)}>{number}</Button>\n      );\n    });\n    let all_story = this.state.story.map((e) => {\n          return (\n            <div class=\"card mb-3 w-50 offset-3\">\n              <div class=\"card-body\">\n                <img src={`http://127.0.0.1:5000/${e.postImageLink}`} style={{ width: \"50px\", height: \"50px\" }} className=\"ml-5 rounded-circle\" alt=\"\"></img>\n                <p > name : {e.first_name} {e.last_name} </p>\n                <p > story : {e.story_content}</p>\n                <img className=\"w-100\" style={{ height: \"250px\" }} src={`http://127.0.0.1:5000/${e.postImageLink1}`} alt=\"\"></img>\n                <p class=\"card-text\"></p>\n                <p class=\"card-text\"><small class=\"text-muted\">Last updated 3 mins ago</small></p>\n                <div>\n            </div>\n              </div>\n            </div>\n          )\n        \n    })\n        // console.log(this.state.per_page)\n        return (\n            <div>\n                <form onSubmit = {this.onSubmit}>\n              <select class=\"custom-select w-25\" id=\"inputGroupSelect01\" name=\"per_page\" onChange ={this.handleInput}>\n                <option selected>Choose...</option>\n                <option value=\"5\">5</option>\n                <option value=\"10\">10</option>\n                <option value=\"15\">15</option>\n              </select>\n        <Button  variant=\"contained\" color=\"secondary\" type=\"submit\" className=\"ml-1\" > Submit </Button>\n\n              </form>\n              <div>\n                  <Navbar />\n                  {all_story}\n                  \n              </div>\n              <div className = \"mt-5\">\n                  {renderPageNumbers}\n                  </div>\n            </div>\n        )\n    }\n}\n\nexport default Pegination\n"]},"metadata":{},"sourceType":"module"}