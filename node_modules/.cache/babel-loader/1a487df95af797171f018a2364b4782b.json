{"ast":null,"code":"var _jsxFileName = \"/home/nitu/Facebook/facebook/src/component/Photoupload.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport Navbar from './Navbar';\nexport default class PhotUpload extends Component {\n  constructor(props) {\n    super(props);\n\n    this.inputChange = e => {\n      this.setState({\n        postImageLink: e.target.files[0]\n      });\n    };\n\n    this.onSubmit = e => {\n      e.preventDefault();\n      console.log(this.state);\n      const formData = new FormData();\n      formData.append('postImageLink', this.state.postImageLink);\n      axios.post(\"http://127.0.0.1:5000/Picture/update\", formData, {\n        headers: {\n          user_id: this.state.user_id\n        }\n      }).then(response => {\n        console.log(response.data.path);\n        this.setState({\n          image: response.data.path\n        }); // this.props.history.push('/dashboard')\n      }).catch(error => {\n        console.log(error);\n      });\n    };\n\n    this.state = {\n      allCategories: [],\n      postimageLink: '',\n      image: '',\n      user_id: '',\n      tokenId: localStorage.getItem('token')\n    };\n  }\n\n  componentDidMount() {\n    axios.get(\"http://127.0.0.1:5000/get-user-token\", {\n      headers: {\n        Authorization: \"Bearer \" + this.state.tokenId,\n        'Content-Type': 'application/json'\n      }\n    }).then(response => {\n      console.log(response.data.name);\n      this.setState({\n        user_id: response.data.user_id,\n        name: response.data.user_id\n      });\n    }); // .catch((err) => alert(err))\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: this.onSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      className: \"mt-3 text-primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, \"update User\"), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, \"Choose Picture\"), React.createElement(\"input\", {\n      type: \"file\",\n      className: \"form-control-file\",\n      name: \"postImageLink\",\n      onChange: this.inputChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      className: \"btn btn-primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, \"upload\")));\n  }\n\n}","map":{"version":3,"sources":["/home/nitu/Facebook/facebook/src/component/Photoupload.js"],"names":["React","Component","axios","Navbar","PhotUpload","constructor","props","inputChange","e","setState","postImageLink","target","files","onSubmit","preventDefault","console","log","state","formData","FormData","append","post","headers","user_id","then","response","data","path","image","catch","error","allCategories","postimageLink","tokenId","localStorage","getItem","componentDidMount","get","Authorization","name","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AAEA,eAAe,MAAMC,UAAN,SAAyBH,SAAzB,CAAmC;AAC9CI,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,SA4BnBC,WA5BmB,GA4BJC,CAAD,IAAO;AACjB,WAAKC,QAAL,CAAc;AACVC,QAAAA,aAAa,EAAEF,CAAC,CAACG,MAAF,CAASC,KAAT,CAAe,CAAf;AADL,OAAd;AAGH,KAhCkB;;AAAA,SAkCnBC,QAlCmB,GAkCPL,CAAD,IAAO;AACdA,MAAAA,CAAC,CAACM,cAAF;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKC,KAAjB;AACA,YAAMC,QAAQ,GAAG,IAAIC,QAAJ,EAAjB;AACAD,MAAAA,QAAQ,CAACE,MAAT,CAAgB,eAAhB,EAAiC,KAAKH,KAAL,CAAWP,aAA5C;AACAR,MAAAA,KAAK,CAACmB,IAAN,CAAW,sCAAX,EAAmDH,QAAnD,EAA6D;AACzDI,QAAAA,OAAO,EAAE;AACLC,UAAAA,OAAO,EAAE,KAAKN,KAAL,CAAWM;AADf;AADgD,OAA7D,EAQKC,IARL,CAQUC,QAAQ,IAAI;AACdV,QAAAA,OAAO,CAACC,GAAR,CAAYS,QAAQ,CAACC,IAAT,CAAcC,IAA1B;AACA,aAAKlB,QAAL,CAAc;AACVmB,UAAAA,KAAK,EAAEH,QAAQ,CAACC,IAAT,CAAcC;AADX,SAAd,EAFc,CAKd;AACH,OAdL,EAeKE,KAfL,CAeWC,KAAK,IAAI;AACZf,QAAAA,OAAO,CAACC,GAAR,CAAYc,KAAZ;AACH,OAjBL;AAmBH,KA1DkB;;AAEf,SAAKb,KAAL,GAAa;AACTc,MAAAA,aAAa,EAAE,EADN;AAETC,MAAAA,aAAa,EAAE,EAFN;AAGTJ,MAAAA,KAAK,EAAE,EAHE;AAITL,MAAAA,OAAO,EAAE,EAJA;AAKTU,MAAAA,OAAO,EAAEC,YAAY,CAACC,OAAb,CAAqB,OAArB;AALA,KAAb;AAQH;;AACDC,EAAAA,iBAAiB,GAAG;AAChBlC,IAAAA,KAAK,CAACmC,GAAN,CAAU,sCAAV,EAAkD;AAC9Cf,MAAAA,OAAO,EAAE;AACLgB,QAAAA,aAAa,EAAE,YAAY,KAAKrB,KAAL,CAAWgB,OADjC;AAEL,wBAAgB;AAFX;AADqC,KAAlD,EAMKT,IANL,CAMUC,QAAQ,IAAI;AACdV,MAAAA,OAAO,CAACC,GAAR,CAAYS,QAAQ,CAACC,IAAT,CAAca,IAA1B;AACA,WAAK9B,QAAL,CAAc;AACVc,QAAAA,OAAO,EAAEE,QAAQ,CAACC,IAAT,CAAcH,OADb;AAEVgB,QAAAA,IAAI,EAAEd,QAAQ,CAACC,IAAT,CAAcH;AAFV,OAAd;AAIH,KAZL,EADgB,CAcZ;AACP;;AAmCDiB,EAAAA,MAAM,GAAG;AACL,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAM,MAAA,QAAQ,EAAE,KAAK3B,QAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAI,MAAA,SAAS,EAAC,mBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADJ,EAEI;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADJ,EAEI;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAmB,MAAA,SAAS,EAAC,mBAA7B;AAAiD,MAAA,IAAI,EAAC,eAAtD;AAAsE,MAAA,QAAQ,EAAE,KAAKN,WAArF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,CAFJ,EAMI;AAAQ,MAAA,SAAS,EAAC,iBAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBANJ,CADJ,CADJ;AAYH;;AA3E6C","sourcesContent":["import React, { Component } from 'react'\nimport axios from 'axios'\nimport Navbar from './Navbar'\n\nexport default class PhotUpload extends Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            allCategories: [],\n            postimageLink: '',\n            image: '',\n            user_id: '',\n            tokenId: localStorage.getItem('token')\n\n        }\n    }\n    componentDidMount() {\n        axios.get(\"http://127.0.0.1:5000/get-user-token\", {\n            headers: {\n                Authorization: \"Bearer \" + this.state.tokenId,\n                'Content-Type': 'application/json'\n            }\n        })\n            .then(response => {\n                console.log(response.data.name)\n                this.setState({\n                    user_id: response.data.user_id,\n                    name: response.data.user_id\n                })\n            })\n            // .catch((err) => alert(err))\n    }\n\n    inputChange = (e) => {\n        this.setState({\n            postImageLink: e.target.files[0]\n        })\n    }\n\n    onSubmit = (e) => {\n        e.preventDefault()\n        console.log(this.state)\n        const formData = new FormData();\n        formData.append('postImageLink', this.state.postImageLink)\n        axios.post(\"http://127.0.0.1:5000/Picture/update\", formData, {\n            headers: {\n                user_id: this.state.user_id,\n\n            }\n\n        })\n\n            .then(response => {\n                console.log(response.data.path)\n                this.setState({\n                    image: response.data.path\n                })\n                // this.props.history.push('/dashboard')\n            })\n            .catch(error => {\n                console.log(error)\n            })\n\n    }\n\n\n    render() {\n        return (\n            <div>\n                <form onSubmit={this.onSubmit}>\n                    <h4 className=\"mt-3 text-primary\" >update User</h4>\n                    <div className=\"form-group\">\n                        <label>Choose Picture</label>\n                        <input type=\"file\" className=\"form-control-file\" name=\"postImageLink\" onChange={this.inputChange} />\n                    </div>\n                    <button className=\"btn btn-primary\">upload</button>\n                </form>\n            </div>\n        )\n    }\n}\n\n\n"]},"metadata":{},"sourceType":"module"}