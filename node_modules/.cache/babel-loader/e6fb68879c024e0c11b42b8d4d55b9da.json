{"ast":null,"code":"var _jsxFileName = \"/home/nitu/Facebook/facebook/src/component/Photoupload.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport Navbar from './Navbar';\nexport default class PhotUpload extends Component {\n  constructor(props) {\n    super(props);\n\n    this.inputChange = e => {\n      this.setState({\n        postImageLink: e.target.files[0]\n      });\n    };\n\n    this.onChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.onSubmit = e => {\n      e.preventDefault();\n      console.log(this.state);\n      const formData = new FormData();\n      formData.append('postImageLink', this.state.postImageLink);\n      axios.post(\"http://127.0.0.1:5000/profile/update\", formData, {\n        headers: {\n          user_id: this.state.user_id\n        }\n      }).then(response => {\n        console.log(response.data.path);\n        this.setState({\n          image: response.data.path\n        });\n        this.props.history.push('/UserAllDetails');\n      }).catch(error => {\n        console.log(error);\n      });\n    };\n\n    this.state = {\n      allCategories: [],\n      city: '',\n      DateOfbirth: \"\",\n      DateOfJoing: \"\",\n      Gender: \"\",\n      postimageLink: '',\n      image: '',\n      user_id: '',\n      name: \"\",\n      tokenId: localStorage.getItem('token')\n    };\n  }\n\n  componentDidMount() {\n    axios.get(\"http://127.0.0.1:5000/get-user-token\", {\n      headers: {\n        Authorization: \"Bearer \" + this.state.tokenId,\n        'Content-Type': 'application/json'\n      }\n    }).then(response => {\n      console.log(response.data.name);\n      this.setState({\n        user_id: response.data.user_id,\n        name: response.data.user_id\n      });\n    }).catch(err => alert(err));\n  }\n\n  render() {\n    // console.log(this.state)\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, React.createElement(Navbar, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }), React.createElement(\"form\", {\n      onSubmit: this.onSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      className: \"offset-3 mt-3 text-primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, \"update User\"), React.createElement(\"h4\", {\n      className: \"offset-3 mt-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, \"city\"), React.createElement(\"input\", {\n      type: \"text\",\n      className: \"offset-3 w-25 mt-2\",\n      name: \"city\",\n      onChange: this.onChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }), React.createElement(\"select\", {\n      class: \"custom-select custom-select-lg mb-3 offset-3  w-25 mt-2\",\n      name: \"Gender\",\n      onChange: this.onChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      selected: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, \" select menu\"), React.createElement(\"option\", {\n      value: \"Female\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, \"Female\"), React.createElement(\"option\", {\n      value: \"Male\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, \"Male\")), React.createElement(\"h4\", {\n      className: \"offset-3 mt-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, \"Date Of joining\"), React.createElement(\"input\", {\n      className: \"offset-3 w-25 mt-2\",\n      type: \"date\",\n      name: \"DateOfJoing\",\n      onChange: this.onChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }), React.createElement(\"h4\", {\n      className: \"offset-3 mt-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, \"DateOfbirth\"), React.createElement(\"input\", {\n      className: \"offset-3 w-25 mt-2\",\n      type: \"date\",\n      name: \"DateOfbirth\",\n      onChange: this.onChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"form-group\",\n      style: {\n        \"marginLeft\": \"500px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, \"Choose Picture\"), React.createElement(\"input\", {\n      type: \"file\",\n      className: \"form-control-file\",\n      name: \"postImageLink\",\n      onChange: this.inputChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      className: \"btn btn-primary offset-3 w-25 mt-2 btn-lg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, \"POST\")));\n  }\n\n}","map":{"version":3,"sources":["/home/nitu/Facebook/facebook/src/component/Photoupload.js"],"names":["React","Component","axios","Navbar","PhotUpload","constructor","props","inputChange","e","setState","postImageLink","target","files","onChange","name","value","onSubmit","preventDefault","console","log","state","formData","FormData","append","post","headers","user_id","then","response","data","path","image","history","push","catch","error","allCategories","city","DateOfbirth","DateOfJoing","Gender","postimageLink","tokenId","localStorage","getItem","componentDidMount","get","Authorization","err","alert","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport axios from 'axios'\nimport Navbar from './Navbar'\n\nexport default class PhotUpload extends Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            allCategories: [],\n            city: '',\n            DateOfbirth: \"\",\n            DateOfJoing: \"\",\n            Gender: \"\",\n            postimageLink: '',\n            image: '',\n            user_id: '',\n            name: \"\",\n            tokenId: localStorage.getItem('token')\n\n        }\n    }\n    componentDidMount() {\n        axios.get(\"http://127.0.0.1:5000/get-user-token\", {\n            headers: {\n                Authorization: \"Bearer \" + this.state.tokenId,\n                'Content-Type': 'application/json'\n            }\n        })\n            .then(response => {\n                console.log(response.data.name)\n                this.setState({\n                    user_id: response.data.user_id,\n                    name: response.data.user_id\n                })\n            })\n            .catch((err) => alert(err))\n    }\n\n    inputChange = (e) => {\n        this.setState({\n            postImageLink: e.target.files[0]\n        })\n    }\n\n    onChange = (e) => {\n        this.setState({\n            [e.target.name]: e.target.value\n        })\n    }\n\n    onSubmit = (e) => {\n        e.preventDefault()\n        console.log(this.state)\n        const formData = new FormData();\n        formData.append('postImageLink', this.state.postImageLink)\n        axios.post(\"http://127.0.0.1:5000/profile/update\", formData, {\n            headers: {\n                user_id: this.state.user_id,\n\n            }\n\n        })\n\n            .then(response => {\n                console.log(response.data.path)\n                this.setState({\n                    image: response.data.path\n                })\n                this.props.history.push('/UserAllDetails')\n            })\n            .catch(error => {\n                console.log(error)\n            })\n\n    }\n\n\n    render() {\n        // console.log(this.state)\n        return (\n            <div>\n                <Navbar />\n                <form onSubmit={this.onSubmit}>\n                    <h1 className=\"offset-3 mt-3 text-primary\" >update User</h1>\n                    <h4 className=\"offset-3 mt-2\">city</h4>\n                    <input type=\"text\" className=\"offset-3 w-25 mt-2\" name=\"city\" onChange={this.onChange}></input>\n                    <br></br>\n                    <select class=\"custom-select custom-select-lg mb-3 offset-3  w-25 mt-2\" name=\"Gender\" onChange={this.onChange}>\n                        <option selected> select menu</option>\n                        <option value=\"Female\">Female</option>\n                        <option value=\"Male\">Male</option>\n                    </select>\n                    <h4 className=\"offset-3 mt-2\">Date Of joining</h4>\n                    <input className=\"offset-3 w-25 mt-2\" type=\"date\" name=\"DateOfJoing\" onChange={this.onChange}></input>\n                    <h4 className=\"offset-3 mt-2\">DateOfbirth</h4>\n                    <input className=\"offset-3 w-25 mt-2\" type=\"date\" name=\"DateOfbirth\" onChange={this.onChange}></input>\n                    <br></br>\n                    <div className=\"form-group\" style={{ \"marginLeft\": \"500px\" }}>\n                        <label>Choose Picture</label>\n                        <input type=\"file\" className=\"form-control-file\" name=\"postImageLink\" onChange={this.inputChange} />\n                    </div>\n                    <button className=\"btn btn-primary offset-3 w-25 mt-2 btn-lg\">POST</button>\n                </form>\n            </div>\n        )\n    }\n}\n\n\n"]},"metadata":{},"sourceType":"module"}