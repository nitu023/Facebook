{"ast":null,"code":"var _jsxFileName = \"/home/nitu/Facebook/facebook/src/component/ViewProfile.js\";\nimport React, { Component } from 'react'; // import { Link } from \"react-router-dom\";\n\nimport axios from 'axios';\nimport Navbar from './Navbar';\nexport default class ViewUsers extends Component {\n  constructor(props) {\n    super(props);\n\n    this.componentDidMount = () => {\n      axios.get(\"http://127.0.0.1:5000/get-user-token\", {\n        headers: {\n          Authorization: \"Bearer \" + this.state.tokenId,\n          'Content-Type': 'application/json'\n        }\n      }).then(response => {\n        this.setState({\n          user_id: response.data.user_id,\n          name: response.data.name,\n          email: response.data.email,\n          userDetails: response.data\n        }); //Check Connections\n\n        axios.get(\"http://127.0.0.1:5000/Check_connection\", {\n          headers: {\n            reciever_user_id: this.props.match.params.user_id,\n            sender_user_id: this.state.user_id\n          }\n        }).then(response => {\n          console.log(response.data);\n          this.setState({\n            checkConnection: response.data[0]\n          });\n        }).catch(err => alert(err));\n        axios.get(\"http://127.0.0.1:5000/Check_connection_False\", {\n          headers: {\n            reciever_user_id: this.props.match.params.user_id,\n            sender_user_id: this.state.user_id\n          }\n        }).then(response => {\n          console.log(response.data);\n          this.setState({\n            checkConnectionFlase: response.data[0]\n          });\n        }).catch(err => alert(err));\n      }); //Show Users\n\n      axios.get(\"http://127.0.0.1:5000/read_user\", {\n        headers: {\n          user_id: this.props.match.params.user_id\n        }\n      }).then(response => {\n        console.log(response.data[0].profile);\n        this.setState({\n          userData: response.data[0],\n          userProfile: response.data[0].profile\n        });\n      }).catch(err => alert(err));\n    };\n\n    this.onConnect = () => {\n      var connectionDetails = {\n        reciever_user_id: this.props.match.params.user_id,\n        sender_user_id: this.state.userDetails.user_id,\n        user_id: this.state.user_id\n      };\n      axios.post(\"http://127.0.0.1:5000/senderconnection\", connectionDetails).then(response => {\n        console.log(response.data);\n        window.location.reload(false);\n      }).catch(err => alert(err));\n    };\n\n    this.onaccept = connection_id => {\n      var accept = {\n        connection_id: connection_id,\n        user_id: this.state.user_id\n      };\n      console.log(accept);\n      axios.post(\"http://127.0.0.1:5000/acceptConnection\", accept).then(response => {\n        console.log(response.data);\n        window.location.reload(false);\n      }).catch(err => alert(err));\n    };\n\n    this.state = {\n      user_id: \"\",\n      name: \"\",\n      email: \"\",\n      userData: [],\n      checkConnection: \"\",\n      checkConnectionFlase: \"\",\n      userDetails: [],\n      userProfile: [],\n      ReciverSide: [],\n      tokenId: localStorage.getItem(\"token\")\n    };\n  }\n\n  render() {\n    let userDetails1 = this.state.userProfile;\n    console.log(userDetails1);\n    let check = this.state.checkConnectionFlase;\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, React.createElement(Navbar, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"offset-4 mt-5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: `http://127.0.0.1:5000/${userDetails1.postImageLink}`,\n      style: {\n        width: \"100px\",\n        height: \"100px\"\n      },\n      className: \"  rounded-circle mb-2\",\n      alt: \"image\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, \" Date Of Birth:\", userDetails1.DateOfbirth), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, \" joing Date:\", userDetails1.DateOfJoing), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, userDetails1.city)), this.state.checkConnection ? React.createElement(\"button\", {\n      className: \"btn btn-primary disabled offset-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, \" connect\") : this.state.checkConnectionFlase ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"btn btn-danger offset-3 \",\n      onClick: () => this.onaccept(check.connection_id),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, \"following\")) : React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"btn btn-danger offset-4\",\n      onClick: this.onConnect,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, \"follow\")));\n  }\n\n}","map":{"version":3,"sources":["/home/nitu/Facebook/facebook/src/component/ViewProfile.js"],"names":["React","Component","axios","Navbar","ViewUsers","constructor","props","componentDidMount","get","headers","Authorization","state","tokenId","then","response","setState","user_id","data","name","email","userDetails","reciever_user_id","match","params","sender_user_id","console","log","checkConnection","catch","err","alert","checkConnectionFlase","profile","userData","userProfile","onConnect","connectionDetails","post","window","location","reload","onaccept","connection_id","accept","ReciverSide","localStorage","getItem","render","userDetails1","check","postImageLink","width","height","DateOfbirth","DateOfJoing","city"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\n// import { Link } from \"react-router-dom\";\nimport axios from 'axios'\nimport Navbar from './Navbar'\n\nexport default class ViewUsers extends Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            user_id:\"\",\n            name:\"\",\n            email:\"\",\n            userData:[],\n            checkConnection:\"\",\n            checkConnectionFlase:\"\",\n            userDetails:[],\n            userProfile:[],\n            ReciverSide:[],\n            tokenId: localStorage.getItem(\"token\")\n        }\n    }\n    componentDidMount = () => {\n        axios.get(\"http://127.0.0.1:5000/get-user-token\", {\n            headers: {\n                Authorization: \"Bearer \" + this.state.tokenId,\n                'Content-Type': 'application/json'\n            }\n        })\n            .then(response => {\n                this.setState({\n                    user_id: response.data.user_id,\n                    name:response.data.name,\n                    email:response.data.email,\n                    userDetails:response.data\n                })\n                //Check Connections\n                axios.get(\"http://127.0.0.1:5000/Check_connection\",{\n                    headers: {\n                        reciever_user_id:this.props.match.params.user_id,\n                        sender_user_id:this.state.user_id\n                    }\n                })\n                .then((response) => {\n                    console.log(response.data)\n                    this.setState({\n                        checkConnection: response.data[0]\n                    })\n                })\n                .catch((err) => alert(err))\n                axios.get(\"http://127.0.0.1:5000/Check_connection_False\",{\n                    headers: {\n                        reciever_user_id:this.props.match.params.user_id,\n                        sender_user_id:this.state.user_id\n                    }\n                })\n                .then((response) => {\n                    console.log(response.data)\n                    this.setState({\n                        checkConnectionFlase: response.data[0]\n                    })\n                })\n                .catch((err) => alert(err))\n            })   \n        //Show Users\n        axios.get(\"http://127.0.0.1:5000/read_user\",{\n            headers: {\n                user_id:this.props.match.params.user_id\n            }\n        })\n        .then((response) => {\n            console.log(response.data[0].profile)\n            this.setState({\n                userData: response.data[0],\n                userProfile: response.data[0].profile\n                \n            })\n        })\n        .catch((err) => alert(err))\n    \n        }\n    onConnect =()=>{\n        var connectionDetails = {\n            reciever_user_id:this.props.match.params.user_id,\n            sender_user_id:this.state.userDetails.user_id,\n            user_id : this.state.user_id\n        }\n        axios.post(\"http://127.0.0.1:5000/senderconnection\",connectionDetails)\n                .then((response) => {\n                    console.log(response.data)\n                    window.location.reload(false);\n                })\n                .catch((err) => alert(err))\n    }   \n   \n    onaccept = (connection_id) =>{\n        var accept = {\n            connection_id: connection_id,\n            user_id: this.state.user_id\n        }\n        console.log(accept)\n        axios.post(\"http://127.0.0.1:5000/acceptConnection\",accept)\n            .then((response) => {\n                console.log(response.data)\n                window.location.reload(false);\n            })\n            .catch((err) => alert(err))\n    }\n        \n    render() {\n        let userDetails1 = this.state.userProfile\n        console.log(userDetails1)\n        let check = this.state.checkConnectionFlase\n        return (\n        <div>\n            <Navbar />\n            <div className=\"offset-4 mt-5\">\n            <img src={`http://127.0.0.1:5000/${userDetails1.postImageLink}`} style={{ width: \"100px\", height: \"100px\" }} className=\"  rounded-circle mb-2\" alt = \"image\"></img>\n                <div> Date Of Birth:{userDetails1.DateOfbirth}</div> \n                <div> joing Date:{userDetails1.DateOfJoing}</div>  \n                <div>{userDetails1.city}</div>\n            </div>\n            {\n                this.state.checkConnection?\n                <button className=\"btn btn-primary disabled offset-4\"> connect</button>:\n                this.state.checkConnectionFlase?\n                <div>\n                <button className=\"btn btn-danger offset-3 \" onClick={() => this.onaccept(check.connection_id)}>following</button>\n                </div>:\n               \n                <div>\n                    <button className=\"btn btn-danger offset-4\" onClick={this.onConnect}>follow</button>\n                </div>\n                \n            }\n            </div>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}