{"ast":null,"code":"var _jsxFileName = \"/home/nitu/Facebook/facebook/src/component/Usersstory.js\";\nimport React from \"react\";\nimport axios from \"axios\";\nimport { Link } from 'react-router-dom';\nimport Readcomment from './Readcomment';\n\nclass Userstory extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.componentDidMount = () => {\n      axios.get(\"http://127.0.0.1:5000/get-user-token\", {\n        headers: {\n          Authorization: \"Bearer \" + this.state.tokenId,\n          'Content-Type': 'application/json'\n        }\n      }).then(response => {\n        this.setState({\n          allDAta: response.data\n        });\n        console.log(response.data.user_id);\n        axios.get(\"http://127.0.0.1:5000/read_userStory/\" + response.data.user_id).then(res => {\n          console.log(res.data);\n          this.setState({\n            allStory: res.data\n          });\n        });\n      });\n    };\n\n    this.Deletestory = story_id => {\n      axios.delete('http://127.0.0.1:5000/delete-story/' + story_id, {\n        headers: {\n          user_id: this.state.allDAta.user_id\n        }\n      }).then(res => {\n        console.log(res.data); // this.props.history.push(`/Story/${this.state.user_id}`)\n\n        window.location.reload(false);\n      }).catch(error => alert(error));\n    };\n\n    this.state = {\n      allStory: [],\n      allDAta: [],\n      user_id: '',\n      tokenId: window.localStorage.getItem(\"token\")\n    };\n  }\n\n  render() {\n    let all_story = this.state.allStory.reverse().map(e => {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"card w-50  mb-4 offset-3 text-center\",\n        style: {\n          border: \"2px white border\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: `http://127.0.0.1:5000/${e.postImageLink}`,\n        style: {\n          width: \"50px\",\n          height: \"50px\"\n        },\n        className: \"ml-5 rounded-circle\",\n        alt: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }), React.createElement(\"p\", {\n        style: {\n          marginTop: \"-30px\",\n          marginLeft: \"-100px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, e.first_name, \" \", e.last_name), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, \"  story content : \", e.story_content), React.createElement(\"img\", {\n        class: \"w-100\",\n        style: {\n          height: \"300px\"\n        },\n        src: `http://127.0.0.1:5000/${e.postImageLink1}`,\n        alt: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: `/Comment/${e.story_id}`,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        type: \"submit\",\n        className: \"btn btn-info\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, \" Comment \")), React.createElement(\"button\", {\n        type: \"submit\",\n        className: \"btn btn-danger ml-5\",\n        onClick: () => this.Deletestory(e.story_id),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, \" Delete story \"), React.createElement(\"button\", {\n        type: \"submit\",\n        className: \"btn btn-primary ml-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, \" \", React.createElement(Link, {\n        to: `/Edit/${e.story_id}`,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }), \"Edit story \"))));\n    });\n    return React.createElement(\"div\", {\n      className: \"mt-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, all_story);\n  }\n\n}\n\nexport default Userstory;","map":{"version":3,"sources":["/home/nitu/Facebook/facebook/src/component/Usersstory.js"],"names":["React","axios","Link","Readcomment","Userstory","Component","constructor","props","componentDidMount","get","headers","Authorization","state","tokenId","then","response","setState","allDAta","data","console","log","user_id","res","allStory","Deletestory","story_id","delete","window","location","reload","catch","error","alert","localStorage","getItem","render","all_story","reverse","map","e","border","postImageLink","width","height","marginTop","marginLeft","first_name","last_name","story_content","postImageLink1"],"mappings":"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","sourcesContent":["import React from \"react\"\nimport axios from \"axios\";\nimport { Link } from 'react-router-dom';\nimport Readcomment from './Readcomment'\n\n\nclass Userstory extends React.Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            allStory: [],\n            allDAta: [],\n            user_id: '',\n            tokenId: window.localStorage.getItem(\"token\")\n        }\n    }\n\n    componentDidMount = () => {\n        axios.get(\"http://127.0.0.1:5000/get-user-token\", {\n            headers: {\n                Authorization: \"Bearer \" + this.state.tokenId,\n                'Content-Type': 'application/json'\n            }\n        })\n            .then(response => {\n                this.setState({\n                    allDAta: response.data\n                })\n                console.log(response.data.user_id)\n                axios.get(\"http://127.0.0.1:5000/read_userStory/\" + response.data.user_id)\n                    .then(res => {\n                        console.log(res.data)\n                        this.setState({\n                            allStory: res.data\n                        })\n                    })\n            })\n    }\n    Deletestory = (story_id) => {\n        axios.delete('http://127.0.0.1:5000/delete-story/' + story_id, {\n            headers: {\n                user_id: this.state.allDAta.user_id\n            }\n        })\n            .then((res) => {\n                console.log(res.data)\n                // this.props.history.push(`/Story/${this.state.user_id}`)\n                window.location.reload(false)\n            })\n            .catch((error) => alert(error))\n    }\n    render() {\n        let all_story = this.state.allStory.reverse().map((e) => {\n\n            return (\n                <div>\n                    <div className=\"card w-50  mb-4 offset-3 text-center\" style = {{border:\"2px white border\"}} >\n                        <img src={`http://127.0.0.1:5000/${e.postImageLink}`} style={{ width: \"50px\", height: \"50px\" }} className=\"ml-5 rounded-circle\" alt=\"\"></img>\n                        <p style={{ marginTop: \"-30px\", marginLeft: \"-100px\" }}>{e.first_name} {e.last_name}</p>\n                        <p>  story content : {e.story_content}</p>\n                        <img class=\"w-100\" style={{ height: \"300px\" }} src={`http://127.0.0.1:5000/${e.postImageLink1}`} alt=\"\"></img>\n                        <div>\n                            <Link to={`/Comment/${e.story_id}`}><button type=\"submit\" className=\"btn btn-info\"> Comment </button></Link>\n                            <button type=\"submit\" className=\"btn btn-danger ml-5\" onClick={() => this.Deletestory(e.story_id)}> Delete story </button>\n                            <button type=\"submit\" className=\"btn btn-primary ml-5\"> <Link to={`/Edit/${e.story_id}`}></Link>Edit story </button>\n\n                        </div>\n                    </div>\n                </div>\n            )\n        })\n        return (\n            <div className=\"mt-4\">\n                {/* <Navbar /> */}\n                {all_story}\n                {/* <Readcomment props = {this.props} /> */}\n            </div>\n        )\n    }\n\n}\n\nexport default Userstory\n"]},"metadata":{},"sourceType":"module"}