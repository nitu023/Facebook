{"ast":null,"code":"var _jsxFileName = \"/home/nitu/Facebook/facebook/src/component/Usersstory.js\";\nimport React from \"react\";\nimport axios from \"axios\";\nimport { Link } from 'react-router-dom';\nimport Navbar from './Navbar';\n\nclass Userstory extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.componentDidMount = e => {\n      axios.get('http://127.0.0.1:5000/read_userStory/' + this.props.match.params.user_id).then(res => {\n        this.setState({\n          allStory: res.data\n        });\n        console.log(res.data);\n      }).catch(err => alert(err));\n      axios.get(\"http://127.0.0.1:5000/get-user-token\", {\n        headers: {\n          Authorization: \"Bearer \" + this.state.tokenId,\n          'Content-Type': 'application/json'\n        }\n      }).then(response => {\n        console.log(response.data);\n        this.setState({\n          user_id: response.data.user_id\n        });\n      }).catch(err => alert(err));\n    };\n\n    this.Deleteblog = blog_id => {\n      axios.delete('http://127.0.0.1:5000/delete-blog/' + blog_id, {\n        headers: {\n          user_id: this.state.user_id\n        }\n      }).then(res => {\n        console.log(res.data);\n        this.props.history.push(`/Blog/${this.state.user_id}`);\n        window.location.reload(false);\n      }).catch(error => alert(error));\n    };\n\n    this.state = {\n      allStory: [],\n      user_id: '',\n      Comments_all: [],\n      tokenId: window.localStorage.getItem(\"token\")\n    };\n  }\n\n  render() {\n    let all_blog = this.state.allComment.reverse().map(e => {\n      //   console.log('in map', e.comment[0].comment)\n      if (Number(this.state.user_id) === Number(e.user_id)) {\n        return React.createElement(\"div\", {\n          className: \"card w-50 mb-4 offset-3 text-center\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 63\n          },\n          __self: this\n        }, React.createElement(\"img\", {\n          class: \"w-100\",\n          style: {\n            height: \"300px\"\n          },\n          src: `http://127.0.0.1:5000/${e.postImageLink}`,\n          alt: \"\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 65\n          },\n          __self: this\n        }), React.createElement(\"h4\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 66\n          },\n          __self: this\n        }, \" content : \", e.blog_content), React.createElement(\"h4\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 67\n          },\n          __self: this\n        }, \" Title: \", e.blog_title), React.createElement(\"h4\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 68\n          },\n          __self: this\n        }, \" category: \", e.category), React.createElement(\"h4\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 69\n          },\n          __self: this\n        }, \"user_id:\", e.user_id, \" \"), React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 70\n          },\n          __self: this\n        }, React.createElement(Link, {\n          to: `/Comment/${e.blog_id}`,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 71\n          },\n          __self: this\n        }, React.createElement(\"button\", {\n          type: \"submit\",\n          className: \"btn btn-info\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 71\n          },\n          __self: this\n        }, \" Show More \")), React.createElement(\"button\", {\n          type: \"submit\",\n          className: \"btn btn-danger ml-5\",\n          onClick: () => this.Deleteblog(e.blog_id),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 72\n          },\n          __self: this\n        }, \" Delete Blog \"), React.createElement(Link, {\n          to: `/Edit/${e.blog_id}`,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 73\n          },\n          __self: this\n        }, React.createElement(\"button\", {\n          type: \"submit\",\n          className: \"btn btn-primary ml-5\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 73\n          },\n          __self: this\n        }, \" Edit Blog \"))));\n      } else {\n        return React.createElement(\"div\", {\n          className: \"card w-50 mb-4 offset-3 text-center \",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 81\n          },\n          __self: this\n        }, React.createElement(\"img\", {\n          class: \"w-100\",\n          style: {\n            height: \"300px\"\n          },\n          src: `http://127.0.0.1:5000/${e.postImageLink}`,\n          alt: \"image1\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 83\n          },\n          __self: this\n        }), React.createElement(\"h3\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 84\n          },\n          __self: this\n        }, \" content: \", e.blog_content), React.createElement(\"h4\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 85\n          },\n          __self: this\n        }, \" Title: \", e.blog_title), React.createElement(\"h4\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 86\n          },\n          __self: this\n        }, \" category: \", e.category), React.createElement(\"h4\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 87\n          },\n          __self: this\n        }, \"user_id:\", e.user_id, \" \"), React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 88\n          },\n          __self: this\n        }, React.createElement(Link, {\n          to: `/Comment/${e.blog_id}`,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 89\n          },\n          __self: this\n        }, React.createElement(\"button\", {\n          type: \"submit\",\n          className: \"btn btn-info\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 89\n          },\n          __self: this\n        }, \" Show More \"))));\n      }\n    });\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, React.createElement(Navbar, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }), React.createElement(\"h2\", {\n      className: \"offset-5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, \"Blog Page\"), all_blog);\n  }\n\n}\n\nexport default Userstory;","map":{"version":3,"sources":["/home/nitu/Facebook/facebook/src/component/Usersstory.js"],"names":["React","axios","Link","Navbar","Userstory","Component","constructor","props","componentDidMount","e","get","match","params","user_id","then","res","setState","allStory","data","console","log","catch","err","alert","headers","Authorization","state","tokenId","response","Deleteblog","blog_id","delete","history","push","window","location","reload","error","Comments_all","localStorage","getItem","render","all_blog","allComment","reverse","map","Number","height","postImageLink","blog_content","blog_title","category"],"mappings":"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","sourcesContent":["import React from \"react\"\nimport axios from \"axios\";\nimport { Link } from 'react-router-dom';\nimport Navbar from './Navbar'\n\n\nclass Userstory extends React.Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            allStory: [],\n            user_id: '',\n            Comments_all: [],\n            tokenId: window.localStorage.getItem(\"token\")\n\n        }\n\n    }\n\n    componentDidMount = (e) => {\n        axios.get('http://127.0.0.1:5000/read_userStory/' + this.props.match.params.user_id)\n            .then(res => {\n                this.setState({\n                    allStory: res.data,\n                })\n                console.log(res.data)\n            })\n            .catch((err) => alert(err))\n\n        axios.get(\"http://127.0.0.1:5000/get-user-token\", {\n            headers: {\n                Authorization: \"Bearer \" + this.state.tokenId,\n                'Content-Type': 'application/json'\n            }\n        })\n            .then(response => {\n                console.log(response.data)\n                this.setState({\n                    user_id: response.data.user_id\n                })\n            })\n            .catch((err) => alert(err))\n    }\n    Deleteblog = (blog_id) => {\n        axios.delete('http://127.0.0.1:5000/delete-blog/' + blog_id, {\n            headers: {\n                user_id: this.state.user_id\n            }\n        })\n            .then((res) => {\n                console.log(res.data)\n                this.props.history.push(`/Blog/${this.state.user_id}`)\n                window.location.reload(false)\n            })\n            .catch((error) => alert(error))\n    }\n\n    render() {\n        let all_blog = this.state.allComment.reverse().map((e) => {\n            //   console.log('in map', e.comment[0].comment)\n            if (Number(this.state.user_id) === Number(e.user_id)) {\n                return (\n                    <div className=\"card w-50 mb-4 offset-3 text-center\" >\n\n                        <img class=\"w-100\" style={{ height: \"300px\" }} src={`http://127.0.0.1:5000/${e.postImageLink}`} alt=\"\"></img>\n                        <h4> content : {e.blog_content}</h4>\n                        <h4> Title: {e.blog_title}</h4>\n                        <h4> category: {e.category}</h4>\n                        <h4>user_id:{e.user_id} </h4>\n                        <div>\n                            <Link to={`/Comment/${e.blog_id}`}><button type=\"submit\" className=\"btn btn-info\"> Show More </button></Link>\n                            <button type=\"submit\" className=\"btn btn-danger ml-5\" onClick={() => this.Deleteblog(e.blog_id)}> Delete Blog </button>\n                            <Link to={`/Edit/${e.blog_id}`}><button type=\"submit\" className=\"btn btn-primary ml-5\"> Edit Blog </button></Link>\n\n                        </div>\n                    </div>\n                )\n            }\n            else {\n                return (\n                    <div className=\"card w-50 mb-4 offset-3 text-center \" >\n\n                        <img class=\"w-100\" style={{ height: \"300px\" }} src={`http://127.0.0.1:5000/${e.postImageLink}`} alt = \"image1\"></img>\n                        <h3 > content: {e.blog_content}</h3>\n                        <h4> Title: {e.blog_title}</h4>\n                        <h4> category: {e.category}</h4>\n                        <h4>user_id:{e.user_id} </h4>\n                        <div>\n                            <Link to={`/Comment/${e.blog_id}`}><button type=\"submit\" className=\"btn btn-info\"> Show More </button></Link>\n                        </div>\n                    </div>\n                )\n\n            }\n        })\n        return (\n            <div>\n                <Navbar />\n                <h2 className=\"offset-5\">Blog Page</h2>\n                {all_blog}\n\n\n            </div>\n        )\n    }\n\n}\n\nexport default Userstory\n"]},"metadata":{},"sourceType":"module"}